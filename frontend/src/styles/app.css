@import "tailwindcss";

:root {
  --bg: 255 255 255;
  --fg: 17 24 39;
  --muted: 107 114 128;
  --card: 255 255 255;
  --border: 229 231 235;
  --primary: 26 115 232; /* Google-ish blue */
  --primary-foreground: 255 255 255;
}

.dark {
  --bg: 15 16 18;
  --fg: 229 231 235;
  --muted: 156 163 175;
  --card: 24 26 28;
  --border: 55 65 81;
  --primary: 138 180 248;
  --primary-foreground: 0 0 0;
}

html,
body {
  height: 100%;
}

body {
  background: rgb(var(--bg));
  color: rgb(var(--fg));
}

/* Ensure app can size/scroll correctly on mobile. */
#root {
  min-height: 100%;
}

/* Prevent accidental horizontal scroll from calendar tables. */
html,
body {
  overflow-x: hidden;
}

/* FullCalendar theming (keep close to Google Calendar). */
.fc {
  --fc-border-color: rgb(var(--border));
  --fc-page-bg-color: rgb(var(--bg));
  --fc-neutral-bg-color: rgb(var(--card));
  --fc-today-bg-color: color-mix(in srgb, rgb(var(--primary)) 10%, transparent);
  --fc-button-bg-color: rgb(var(--card));
  --fc-button-border-color: rgb(var(--border));
  --fc-button-text-color: rgb(var(--fg));
  --fc-button-hover-bg-color: color-mix(in srgb, rgb(var(--card)) 85%, rgb(var(--fg)) 15%);
  --fc-button-hover-border-color: rgb(var(--border));
  --fc-button-active-bg-color: color-mix(in srgb, rgb(var(--primary)) 15%, rgb(var(--card)));
  --fc-button-active-border-color: rgb(var(--border));
}

.fc .fc-toolbar-title {
  font-size: 1.15rem;
  font-weight: 600;
}

.fc .fc-daygrid-day-number {
  padding: 6px;
  font-size: 0.85rem;
}

.fc .fc-event {
  border-radius: 8px;
  border: 0;
  padding: 2px 6px;
}

.fc .fc-event.bday {
  background: color-mix(in srgb, rgb(var(--primary)) 85%, rgb(var(--bg)));
  color: rgb(var(--primary-foreground));
}

.fc .fc-event.update {
  background: color-mix(in srgb, rgb(var(--fg)) 10%, rgb(var(--card)));
  color: rgb(var(--fg));
}

/* Mobile tweaks: avoid horizontal overflow and improve readability. */
@media (max-width: 640px) {
  .fc .fc-toolbar-title {
    font-size: 1rem;
  }

  /* FullCalendar list view can create wide rows; allow wrapping. */
  .fc .fc-list-table {
    width: 100%;
  }

  .fc .fc-list-event-title,
  .fc .fc-list-event-title a {
    white-space: normal;
  }

  .fc .fc-list-event-title {
    word-break: break-word;
  }
}

/* Mini Calendar Dropdown */
.mini-calendar {
  width: 280px;
  animation: fadeIn 0.15s ease-out;
}

/* Failsafe layout for the mini calendar if utilities ever fail to apply. */
.mini-calendar .grid {
  display: grid;
}
.mini-calendar .grid-cols-7 {
  grid-template-columns: repeat(7, minmax(0, 1fr));
}

.mini-calendar select {
  cursor: pointer;
  appearance: none;
  padding: 0.25rem 0.5rem;
  border-radius: 0.375rem;
}

.mini-calendar select:hover {
  background: rgb(var(--border));
}

.mini-calendar select option {
  background: rgb(var(--card));
  color: rgb(var(--fg));
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Mobile: Position mini calendar centered */
@media (max-width: 640px) {
  .mini-calendar {
    position: fixed;
    left: 50% !important;
    top: 50% !important;
    transform: translate(-50%, -50%);
    margin-top: 0;
    width: min(280px, calc(100vw - 32px));
    box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);
  }
}

