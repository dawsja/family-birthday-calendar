@import "tailwindcss";

:root {
  /* Everforest Dark (single-theme app) */
  --bg: 45 53 59; /* #2d353b */
  --fg: 211 198 170; /* #d3c6aa */
  --muted: 157 169 160; /* #9da9a0 */
  --card: 52 63 68; /* #343f44 */
  --border: 71 82 88; /* #475258 */
  --primary: 127 187 179; /* #7fbbb3 */
  --primary-foreground: 45 53 59; /* #2d353b */
  color-scheme: dark;
}

html,
body {
  height: 100%;
}

body {
  background: rgb(var(--bg));
  color: rgb(var(--fg));
}

/* Ensure app can size/scroll correctly on mobile. */
#root {
  min-height: 100%;
  /* Prevent content from sitting under iPhone notch/home indicator in standalone mode. */
  padding-top: env(safe-area-inset-top);
  padding-right: env(safe-area-inset-right);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
}

/* Prevent accidental horizontal scroll from calendar tables. */
html,
body {
  overflow-x: hidden;
}

/* FullCalendar theming (Airtable/Notion-like month grid). */
.fc {
  --fc-border-color: rgb(var(--border));
  --fc-page-bg-color: rgb(var(--bg));
  --fc-neutral-bg-color: rgb(var(--card));
  --fc-today-bg-color: color-mix(in srgb, rgb(var(--primary)) 6%, transparent);
  --fc-button-bg-color: rgb(var(--card));
  --fc-button-border-color: rgb(var(--border));
  --fc-button-text-color: rgb(var(--fg));
  --fc-button-hover-bg-color: color-mix(in srgb, rgb(var(--card)) 85%, rgb(var(--fg)) 15%);
  --fc-button-hover-border-color: rgb(var(--border));
  --fc-button-active-bg-color: color-mix(in srgb, rgb(var(--primary)) 15%, rgb(var(--card)));
  --fc-button-active-border-color: rgb(var(--border));
}

.fc .fc-scrollgrid {
  border-radius: 14px;
  overflow: hidden;
}

.fc .fc-col-header-cell {
  background: rgb(var(--card));
}

.fc .fc-col-header-cell-cushion {
  padding: 10px 8px;
  font-size: 0.875rem;
  font-weight: 500;
  color: rgb(var(--muted));
  text-decoration: none;
}

.fc .fc-daygrid-day {
  background: rgb(var(--card));
}

.fc .fc-daygrid-day-frame {
  /* Taller cells like the reference screenshot */
  min-height: 112px;
  padding: 6px;
}

.fc .fc-daygrid-day-top {
  justify-content: flex-end;
}

.fc .fc-daygrid-day-number {
  padding: 6px 8px;
  font-size: 0.8rem;
  color: rgb(var(--muted));
  text-decoration: none;
  border-radius: 8px;
}

.fc .fc-day-today .fc-daygrid-day-number {
  color: rgb(var(--primary));
  font-weight: 600;
}

.fc .fc-day-other .fc-daygrid-day-number {
  opacity: 0.45;
}

.fc .fc-event {
  border-radius: 9999px;
  border: 0;
  padding: 3px 10px;
  font-size: 0.75rem;
  line-height: 1.2;
}

.fc .fc-event.bday {
  background: color-mix(in srgb, rgb(var(--primary)) 28%, rgb(var(--card)));
  color: rgb(var(--fg));
}

.fc .fc-event.update {
  background: color-mix(in srgb, rgb(var(--fg)) 10%, rgb(var(--card)));
  color: rgb(var(--fg));
}

.fc .fc-daygrid-event {
  margin-top: 4px;
}

.fc .fc-daygrid-event .fc-event-main,
.fc .fc-daygrid-event .fc-event-main-frame {
  padding: 0;
}

.fc .fc-event-title {
  font-weight: 500;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.fc .fc-daygrid-more-link {
  margin-top: 4px;
  padding: 0 8px;
  font-size: 0.75rem;
  color: rgb(var(--muted));
}

/* Mobile tweaks: avoid horizontal overflow and improve readability. */
@media (max-width: 640px) {
  /* Make sure the calendar can shrink inside its card on narrow screens. */
  .fc,
  .fc .fc-view-harness,
  .fc .fc-scrollgrid {
    max-width: 100%;
    min-width: 0;
  }

  /* FullCalendar list view can create wide rows; allow wrapping. */
  .fc .fc-list-table {
    width: 100%;
    table-layout: fixed;
  }

  .fc .fc-list-event-time {
    white-space: nowrap;
  }

  .fc .fc-list-event-title,
  .fc .fc-list-event-title a {
    white-space: normal;
  }

  .fc .fc-list-event-title {
    overflow-wrap: anywhere;
  }
}

/* Mini Calendar Dropdown */
.mini-calendar {
  width: 280px;
  animation: fadeIn 0.15s ease-out;
}

/* Failsafe layout for the mini calendar if utilities ever fail to apply. */
.mini-calendar .grid {
  display: grid;
}
.mini-calendar .grid-cols-7 {
  grid-template-columns: repeat(7, minmax(0, 1fr));
}

.mini-calendar select {
  cursor: pointer;
  appearance: none;
  padding: 0.25rem 0.5rem;
  border-radius: 0.375rem;
}

.mini-calendar select:hover {
  background: rgb(var(--border));
}

.mini-calendar select option {
  background: rgb(var(--card));
  color: rgb(var(--fg));
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

